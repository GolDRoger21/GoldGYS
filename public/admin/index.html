<!DOCTYPE html>
<html lang="tr" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoldGYS - Admin Panel</title>
    
    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- STYLES -->
    <link rel="stylesheet" href="/css/admin.css">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/styles/tokens.css">
    
    <!-- FIREBASE -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-functions-compat.js"></script>
</head>
<body class="admin-body">
    
    <!-- ADMIN CONTAINER -->
    <div class="admin-container">
        
        <!-- SIDEBAR -->
        <aside class="admin-sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2><i class="fas fa-crown"></i> GoldGYS Admin</h2>
                <small>Gemiadamları Yönetim Sistemi</small>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li>
                        <a href="/admin/" class="active" data-page="dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="questions">
                            <i class="fas fa-question-circle"></i>
                            <span>Soru Yönetimi</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="topics">
                            <i class="fas fa-folder-tree"></i>
                            <span>Konu/Kategori</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="exams">
                            <i class="fas fa-file-alt"></i>
                            <span>Sınavlar</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="users">
                            <i class="fas fa-users"></i>
                            <span>Kullanıcılar</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="reports">
                            <i class="fas fa-chart-bar"></i>
                            <span>Raporlar</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="content">
                            <i class="fas fa-edit"></i>
                            <span>İçerik Yönetimi</span>
                        </a>
                    </li>
                    <li>
                        <a href="/admin/importer.html">
                            <i class="fas fa-file-import"></i>
                            <span>Toplu İçe Aktar</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" data-page="settings">
                            <i class="fas fa-cog"></i>
                            <span>Ayarlar</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <div class="user-details">
                        <strong id="adminName">Yükleniyor...</strong>
                        <small id="adminRole">Admin</small>
                    </div>
                </div>
                <button class="btn btn-secondary btn-sm btn-block mt-2" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> Çıkış Yap
                </button>
            </div>
        </aside>
        
        <!-- MOBILE MENU TOGGLE -->
        <button class="mobile-menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
        </button>
        
        <!-- MAIN CONTENT -->
        <main class="admin-main" id="mainContent">
            
            <!-- HEADER -->
            <header class="admin-header">
                <div>
                    <h1 id="pageTitle">Dashboard</h1>
                    <p class="text-muted" id="pageSubtitle">Sistem istatistikleri ve hızlı erişim</p>
                </div>
                
                <div class="header-actions">
                    <!-- THEME SWITCHER -->
                    <div class="theme-switcher" id="themeSwitcher">
                        <i class="fas fa-moon" id="themeIcon"></i>
                        <span id="themeText">Karanlık Mod</span>
                    </div>
                    
                    <!-- NOTIFICATIONS -->
                    <div class="notification-bell" id="notificationBell">
                        <i class="fas fa-bell"></i>
                        <span class="badge" id="notificationCount">3</span>
                    </div>
                    
                    <!-- QUICK ACTIONS -->
                    <div class="dropdown">
                        <button class="btn btn-primary" id="quickActions">
                            <i class="fas fa-plus"></i> Hızlı İşlem
                        </button>
                        <div class="dropdown-menu">
                            <a href="#" class="dropdown-item" data-action="add-question">
                                <i class="fas fa-plus-circle"></i> Yeni Soru
                            </a>
                            <a href="#" class="dropdown-item" data-action="add-topic">
                                <i class="fas fa-folder-plus"></i> Yeni Konu
                            </a>
                            <a href="#" class="dropdown-item" data-action="add-exam">
                                <i class="fas fa-file-medical"></i> Yeni Sınav
                            </a>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- DASHBOARD CONTENT -->
            <section id="dashboardContent">
                <!-- STATISTICS CARDS -->
                <div class="dashboard-grid">
                    <div class="stat-card">
                        <i class="fas fa-question-circle"></i>
                        <h3>Toplam Soru</h3>
                        <div class="value" id="totalQuestions">0</div>
                        <div class="trend positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>+12 Bu Ay</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <i class="fas fa-users"></i>
                        <h3>Aktif Kullanıcılar</h3>
                        <div class="value" id="activeUsers">0</div>
                        <div class="trend positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>+5 Bugün</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <i class="fas fa-file-alt"></i>
                        <h3>Toplam Sınav</h3>
                        <div class="value" id="totalExams">0</div>
                        <div class="trend neutral">
                            <i class="fas fa-minus"></i>
                            <span>Sabit</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <i class="fas fa-chart-line"></i>
                        <h3>Başarı Oranı</h3>
                        <div class="value" id="successRate">%0</div>
                        <div class="trend negative">
                            <i class="fas fa-arrow-down"></i>
                            <span>-2% Dün</span>
                        </div>
                    </div>
                </div>
                
                <!-- RECENT ACTIVITY & QUICK ACTIONS -->
                <div class="row mt-3">
                    <div class="col-8">
                        <div class="table-container">
                            <div class="table-header">
                                <h3><i class="fas fa-history"></i> Son Aktiviteler</h3>
                                <a href="#" class="btn btn-sm btn-secondary">Tümünü Gör</a>
                            </div>
                            <table class="admin-table" id="recentActivity">
                                <thead>
                                    <tr>
                                        <th>Kullanıcı</th>
                                        <th>Aktivite</th>
                                        <th>Zaman</th>
                                        <th>Durum</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Aktivite verileri JavaScript ile doldurulacak -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="col-4">
                        <div class="card">
                            <div class="card-header">
                                <h3><i class="fas fa-bolt"></i> Hızlı İşlemler</h3>
                            </div>
                            <div class="card-body">
                                <button class="btn btn-primary btn-block mb-2" id="btnAddQuestion">
                                    <i class="fas fa-plus-circle"></i> Yeni Soru Ekle
                                </button>
                                <button class="btn btn-secondary btn-block mb-2" id="btnManageTopics">
                                    <i class="fas fa-folder-tree"></i> Konuları Düzenle
                                </button>
                                <button class="btn btn-info btn-block mb-2" id="btnViewReports">
                                    <i class="fas fa-chart-pie"></i> Detaylı Raporlar
                                </button>
                                <button class="btn btn-warning btn-block" id="btnSystemSettings">
                                    <i class="fas fa-cogs"></i> Sistem Ayarları
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- PENDING APPROVALS -->
                <div class="table-container mt-3">
                    <div class="table-header">
                        <h3><i class="fas fa-clock"></i> Onay Bekleyen İçerikler</h3>
                        <div class="table-actions">
                            <button class="btn btn-sm btn-success" id="approveAll">
                                <i class="fas fa-check-double"></i> Tümünü Onayla
                            </button>
                            <button class="btn btn-sm btn-danger" id="rejectAll">
                                <i class="fas fa-times-circle"></i> Tümünü Reddet
                            </button>
                        </div>
                    </div>
                    <table class="admin-table" id="pendingTable">
                        <thead>
                            <tr>
                                <th width="50">
                                    <input type="checkbox" id="selectAllPending">
                                </th>
                                <th>İçerik</th>
                                <th>Gönderen</th>
                                <th>Tür</th>
                                <th>Eklenme Tarihi</th>
                                <th>İşlemler</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Onay bekleyen içerikler JavaScript ile doldurulacak -->
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- DYNAMIC CONTENT AREA (CRUD Operations) -->
            <section id="dynamicContent" style="display: none;">
                <!-- Bu alan JavaScript ile dinamik olarak doldurulacak -->
            </section>
            
            <!-- MODAL CONTAINER -->
            <div id="modalContainer"></div>
            
            <!-- TOAST CONTAINER -->
            <div class="toast-container" id="toastContainer"></div>
            
        </main>
    </div>
    
    <!-- SCRIPTS -->
    <script src="/js/firebase-config.js"></script>
    <script src="/js/role-guard.js"></script>
    <script src="/js/admin-page.js"></script>
    <script src="/js/ui-loader.js"></script>
    
    <!-- ADMIN MODULES -->
    <script src="/js/modules/admin/questions.js"></script>
    <script src="/js/modules/admin/users.js"></script>
    <script src="/js/modules/admin/reports.js"></script>
    <script src="/js/modules/admin/utils.js"></script>
    
    <script>
        // Initialize admin system
        document.addEventListener('DOMContentLoaded', function() {
            initializeAdminSystem();
        });
    </script>
</body>
</html>