<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akıllı Soru Yükleme - Admin Paneli</title>
    <link rel="stylesheet" href="../css/admin.css">
    <style>
        /* Admin.css değişkenlerini kullanan modern stil */
        body { margin: 0; padding: 0; background: var(--bg-main); color: var(--text-main); font-family: 'Inter', sans-serif; }
        .section-header p { margin-bottom: 0px; }
        .btn-guide { background: var(--bg-panel); color: var(--text-muted); border: 1px solid var(--border-color); }
        .btn-guide:hover { background: var(--bg-hover); color: var(--text-main); }
        .border-dashed { transition: all 0.2s; }
        .border-dashed:hover { border-color: var(--primary-color) !important; background: rgba(var(--primary-rgb), 0.05); }

        /* Preview Table Styles */
        .table-responsive::-webkit-scrollbar { width: 8px; height: 8px; }
        .table-responsive::-webkit-scrollbar-thumb { background: var(--border-color); border-radius: 4px; }
        
        /* Badges */
        .badge.bg-secondary { background: #475569; color: #fff; }
        .badge.bg-success { background: #10b981; color: #fff; }
        .badge.bg-warning { background: #f59e0b; color: #000; }
        .badge.bg-danger { background: #ef4444; color: #fff; }
    </style>
</head>
<body>

    <!-- Sidebar (Admin panel yapısına uygun olarak JS tarafından yüklenebilir veya statik kalabilir, şimdilik içerik odaklı) -->
    <div class="admin-wrapper">
        <!-- Main Content -->
        <main class="main-content" style="padding: 2rem;">
            <div id="section-importer">
                <!-- JS tarafından doldurulacak -->
                <div class="text-center p-5">
                    <div class="spinner-border text-primary" role="status"></div>
                    <p class="mt-3 text-muted">Yükleyici modülü başlatılıyor...</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Firebase Scripts -->
    <script type="module">
        import { initImporterPage } from '../js/modules/admin/importer.js';
        import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { auth } from '../js/firebase-config.js';

        // Yetki Kontrolü ve Başlatma
        document.addEventListener('DOMContentLoaded', () => {
            onAuthStateChanged(auth, user => {
                if (user) {
                    // Admin yetkisi kontrolü eklenebilir (claims)
                    initImporterPage();
                } else {
                    document.body.innerHTML = '<div class="text-center p-5"><h3>Erişim Reddedildi</h3><p>Lütfen admin girişi yapınız.</p><a href="/admin/login.html">Giriş Yap</a></div>';
                }
            });
        });
    </script>
</body>
</html>
